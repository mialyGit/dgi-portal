(this["webpackJsonpdgi-portal"]=this["webpackJsonpdgi-portal"]||[]).push([[28],{102:function(e,a,t){"use strict";var n=t(15),l=t(14),r=t(56),c=Object(n.a)((function e(){Object(l.a)(this,e)}));c.getAll=function(){return r.a.get("".concat(s))},c.getAllDemandes=function(){return r.a.get("api/users/demandes")},c.add=function(e){return r.a.post("".concat(s),e)},c.delete=function(e){return r.a.delete("".concat(s,"/").concat(e))},c.update=function(e,a){return r.a.put("".concat(s,"/").concat(a),e)};var s="api/contribuables";a.a=c},488:function(e,a,t){"use strict";t.r(a);var n=t(30),l=t(3),r=t(29),c=t(0),s=t.n(c),m=t(2),i=t(97),o=t(76),u=t(130),p=t(54),d=t(104),E=t(105),b=t(77),f=t(136),N=t(99),v=t(149),h=function(e){var a=e.user,t=e.handleFileChange,m=e.handleInputChange,u=e.nextStep,h=Object(c.useRef)(),g=Object(c.useState)({}),y=Object(r.a)(g,2),_=y[0],C=y[1],x=Object(c.useState)(a.file),O=Object(r.a)(x,2),j=O[0],k=O[1],z=Object(c.useState)(0),S=Object(r.a)(z,2),I=S[0],w=S[1],L=Object(c.useState)({color:"text-muted",text:a.file?a.file:"Veuillez importer une ic\xf4ne ici"}),T=Object(r.a)(L,2),F=T[0],V=T[1],G=function(e){var a=e.target.name;m(e),_[a]&&C(Object(l.a)(Object(l.a)({},_),{},Object(n.a)({},a,null)))};function P(e){setTimeout((function(){var a=parseInt(e.loaded/e.target.fileSize*100,10);w(a),"loadend"===e.type&&(t(e.target.result),V({color:"text-muted",text:e.target.fileName}),k(e.target.result),setTimeout((function(){w(0)}),100))}),500)}return s.a.createElement(d.a,{onSubmit:function(e){e.preventDefault();var t=function(){var e=a.nom,t=a.adresse,n={};return e&&""!==e.trim()||(n.nom="Veuillez entrer le nom de l'utilisateur"),t&&""!==t.trim()||(n.adresse="Veuillez entrer l'adresse de l'utilisateur"),n}();Object.keys(t).length>0?C(t):u()}},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,{md:2},s.a.createElement(E.a,{onClick:function(){return h.current.click()}},s.a.createElement(E.a.Img,{onError:function(e){e.target.src=p.b+"/no-import.png"},style:{height:"100%"},variant:"top",src:j,alt:"activity-user"}),s.a.createElement("small",{className:"mt-3 text-center ".concat(F.color)},F.text),s.a.createElement(b.a,{type:"file",id:"photo",name:"photo",accept:"image/*",ref:h,onChange:function(e){var a=e.target.files[0];if(a){var t=a.name.split(".").pop().toLowerCase();if(["jpg","jpeg","png"].indexOf(t)>-1){var n=new FileReader;n.fileName=a.name,n.fileSize=a.size,function(e){e.addEventListener("loadstart",P),e.addEventListener("load",P),e.addEventListener("loadend",P),e.addEventListener("progress",P),e.addEventListener("error",P),e.addEventListener("abort",P)}(n),n.readAsDataURL(a)}else V({color:"text-danger",text:"Fichier invalide!"})}},hidden:!0})),s.a.createElement(f.a,{className:0===I&&"d-none",animated:!0,now:I})),s.a.createElement(o.a,null),s.a.createElement(o.a,{md:8},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"Nom"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm",id:"nom"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{className:_.nom&&"is-invalid",id:"nom",name:"nom",placeholder:"Veuillez entrer votre nom",value:a.nom,onChange:G}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},_.nom)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"Pr\xe9nom"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{id:"prenom",name:"prenom",placeholder:"Veuillez entrer votre pr\xe9nom",value:a.prenom,onChange:G})))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"T\xe9l\xe9phone"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-phone"}))),s.a.createElement(b.a,{id:"telephone",name:"telephone",placeholder:"Veuillez entrer votre num\xe9ro de t\xe9l\xe9phone",value:a.telephone,onChange:G})))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"Adresse"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-map-pin"}))),s.a.createElement(b.a,{className:_.adresse&&"is-invalid",id:"adresse",name:"adresse",placeholder:"Veuillez entrer votre adresse",value:a.adresse,onChange:G}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},_.adresse))))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement("a",{href:"/contribuables",className:"btn btn-secondary btn-sm"},s.a.createElement("i",{className:"feather icon-x-circle"}),"Annuler")," ",s.a.createElement(v.a,{className:"no-margin-btn",type:"submit",variant:"primary",size:"sm"},"Confirmer ",s.a.createElement("i",{className:"feather icon-chevrons-right"}))))))},g=function(e){var a=e.cin,t=e.handleInputChange,m=e.nextStep,u=e.prevStep,p=Object(c.useState)({}),f=Object(r.a)(p,2),h=f[0],g=f[1],y=Object(c.useState)(!1),_=Object(r.a)(y,2),C=_[0],x=_[1],O=function(e){var a=e.target.name;t(e),h[a]&&g(Object(l.a)(Object(l.a)({},h),{},Object(n.a)({},a,null)))},j=function(e){e.preventDefault();var t=function(){var e=a.numero,t=a.date_delivrance,n=a.date_naissance,l=a.lieu_naissance,r={};return e&&""!==e.trim()||(r.numero="Veuillez entrer le num\xe9ro cin"),12!==e.length&&(r.numero="Le num\xe9ro CIN doit comporter 12 caract\xe8res"),t&&""!==t.trim()||(r.date_delivrance="Veuillez entrer la date de delivrance du cin"),n&&""!==n.trim()||(r.date_naissance="Veuillez entrer la date de naissance"),l&&""!==l.trim()||(r.lieu_naissance="Veuillez entrer le lieu de naissance"),r}();Object.keys(t).length>0?g(t):m()};return s.a.createElement(d.a,{onSubmit:j},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Num\xe9ro CIN"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-hash"}))),s.a.createElement(b.a,{className:h.numero&&"is-invalid",id:"numero",name:"numero",placeholder:"Num\xe9ro CIN",value:a.numero,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},h.numero)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Date de d\xe9livrance"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-calendar"}))),s.a.createElement(b.a,{type:"date",className:h.date_delivrance&&"is-invalid",id:"date_delivrance",name:"date_delivrance",value:a.date_delivrance,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},h.date_delivrance))))),s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Date de naissance"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-calendar"}))),s.a.createElement(b.a,{type:"date",className:h.date_naissance&&"is-invalid",id:"date_naissance",name:"date_naissance",value:a.date_naissance,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},h.date_naissance)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Lieu de naissance"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-map-pin"}))),s.a.createElement(b.a,{className:h.lieu_naissance&&"is-invalid",id:"lieu_naissance",name:"lieu_naissance",placeholder:"Lieu de naissance",value:a.lieu_naissance,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},h.lieu_naissance)))))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"P\xe8re"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{id:"pere",name:"pere",placeholder:"Nom du p\xe8re",value:a.pere,onChange:O})))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"M\xe8re"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{id:"mere",name:"mere",placeholder:"Nom de la m\xe8re",value:a.mere,onChange:O})))),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{className:"mt-2"},s.a.createElement(d.a.Check,{style:{cursor:"pointer"},type:"checkbox",label:"CIN Duplicata",onClick:function(){return x(!C)}})),C&&s.a.createElement(i.a,null,s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Date de duplicata"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-calendar"}))),s.a.createElement(b.a,{type:"date",className:h.date_duplicata&&"is-invalid",id:"date_duplicata",name:"date_duplicata",value:a.date_duplicata,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},h.date_duplicata))))),s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Lieu de duplicata"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-map-pin"}))),s.a.createElement(b.a,{className:h.lieu_duplicata&&"is-invalid",id:"lieu_duplicata",name:"lieu_duplicata",placeholder:"Lieu de duplicata",value:a.lieu_duplicata,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},h.lieu_duplicata))))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement(v.a,{variant:"secondary",size:"sm",onClick:function(e){e.preventDefault(),u()}},s.a.createElement("i",{className:"feather icon-chevrons-left"}),"Retour")," ",s.a.createElement(v.a,{className:"no-margin-btn",type:"submit",variant:"primary",size:"sm",onClick:j},"Confirmer ",s.a.createElement("i",{className:"feather icon-chevrons-right"}))))))},y=t(98),_=function(e){var a=e.user,t=e.handleInputChange,m=e.prevStep,u=e.save,p=e.loading,f=Object(c.useState)({}),h=Object(r.a)(f,2),g=h[0],_=h[1],C=Object(c.useState)(0),x=Object(r.a)(C,2),O=x[0],j=x[1],k=function(e){var a=e.target.name;t(e),g[a]&&_(Object(l.a)(Object(l.a)({},g),{},Object(n.a)({},a,null)))},z=function(e){e.preventDefault();var t=function(){var e=a.email,t=a.password,n=a.password_confirmation,l={};return e&&""!==e.trim()||(l.email="Veuillez entrer l'email"),function(e){return/\S+@\S+\.\S+/.test(e)}(e)||(l.email="Veuillez entrer un email valide"),t&&""!==t.trim()||(l.password="Veuillez entrer le mot de passe"),n&&""!==n.trim()||(l.password_confirmation="Veuillez confirmer le mot de passe"),t.trim()!==n.trim()&&(l.password_confirmation="Confirmation de mot de passe incorrect"),l}();Object.keys(t).length>0?_(t):u(e)};return s.a.createElement(d.a,{onSubmit:z},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,null,s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:3},"Email"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-at-sign"}))),s.a.createElement(b.a,{className:g.email&&"is-invalid",id:"email",name:"email",placeholder:"Email de confirmation",value:a.email,onChange:k}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.email))))),s.a.createElement(o.a,null)),s.a.createElement(i.a,null,s.a.createElement(o.a,null,s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:3},"Mot de passe"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-lock"}))),s.a.createElement(b.a,{type:1!==O?"password":"text",className:g.password&&"is-invalid",id:"password",name:"password",placeholder:"Mot de passe",value:a.password,onChange:k}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.password),!g.password&&s.a.createElement(N.a.Append,null,s.a.createElement(N.a.Text,{style:{cursor:"pointer"},onClick:function(){return j(1===O?0:1)}},s.a.createElement("i",{className:1===O?"feather icon-eye-off":"feather icon-eye"}))))))),s.a.createElement(o.a,null,s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:3,style:{display:"flex",justifyContent:"right"}},"Confirmation"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-lock"}))),s.a.createElement(b.a,{type:2!==O?"password":"text",className:g.password_confirmation&&"is-invalid",id:"password_confirmation",name:"password_confirmation",placeholder:"Confirmer votre mot de passe",value:a.password_confirmation,onChange:k}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.password_confirmation),!g.password_confirmation&&s.a.createElement(N.a.Append,null,s.a.createElement(N.a.Text,{style:{cursor:"pointer"},onClick:function(){return j(2===O?0:2)}},s.a.createElement("i",{className:2===O?"feather icon-eye-off":"feather icon-eye"}))))))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement(v.a,{variant:"secondary",size:"sm",onClick:function(e){e.preventDefault(),m()}},s.a.createElement("i",{className:"feather icon-chevrons-left"}),"Retour")," ",p&&s.a.createElement(v.a,{variant:"primary",size:"sm",disabled:!0},s.a.createElement(y.a,{as:"span",className:"mr-2",size:"sm",animation:"border",role:"status","aria-hidden":"true"}),"Veuillez patientez ...")||s.a.createElement(v.a,{variant:"primary",size:"sm",onClick:z},s.a.createElement("i",{className:"feather icon-check-square"}),"Sauvegarder")))))},C=t(489),x=t(90),O=function(e){var a,t=e.user,m=e.handleInputChange,u=e.nextStep,p=e.prevStep,f=Object(c.useState)({}),h=Object(r.a)(f,2),g=h[0],y=h[1],_=Object(C.b)({ignoreAccents:!0}),O=function(e){var a=e.target.name;m(e),g[a]&&y(Object(l.a)(Object(l.a)({},g),{},Object(n.a)({},a,null)))},j=function(e){e.preventDefault();var a=function(){var e=t.nif,a=t.raison_sociale,n=t.activite,l={};return e&&""!==e.trim()||(l.nif="Veuillez entrer le NIF"),a&&""!==a.trim()||(l.raison_sociale="Veuillez entrer le raison sociale"),n&&""!==n.trim()||(l.activite="Veuillez entrer l'activit\xe9"),l}();console.log(a),Object.keys(a).length>0?y(a):u()};return s.a.createElement(d.a,{onSubmit:j},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),JSON.stringify(t),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:4},"Num\xe9ro d'Identification Fiscale"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-hash"}))),s.a.createElement(b.a,{className:g.nif&&"is-invalid",id:"nif",name:"nif",placeholder:"Num\xe9ro Matricule",value:t.nif,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.nif)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:4},"Raison Sociale"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(N.a.Prepend,null,s.a.createElement(N.a.Text,null,s.a.createElement("i",{className:"feather icon-hash"}))),s.a.createElement(b.a,{className:g.raison_sociale&&"is-invalid",id:"raison_sociale",name:"raison_sociale",placeholder:"Raison Sociale",value:t.raison_sociale,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.raison_sociale)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:4},"Activit\xe9"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(d.a.Control,{className:g.activite&&"is-invalid",as:"textarea",rows:"5",id:"activite",name:"activite",value:t.activite,onChange:O}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.activite))))),s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:3},"Situation matrimoniale"),s.a.createElement(o.a,null,s.a.createElement(N.a,{size:"sm"},s.a.createElement(x.a,{filterOption:_,loadOptions:function(e,a){a([{id:0,nom:"CELIBATAIRE"},{id:1,nom:"MARIE(E)"},{id:2,nom:"DIVORCE(E)"},{id:3,nom:"VEUF(VE)"}].map((function(e){return{label:e.nom,value:e.id,target:{name:"s_matrim",value:e.id}}})))},defaultOptions:!0,placeholder:"Selectionner",name:"s_matrim",styles:(a="s_matrim",{container:function(e){return Object(l.a)(Object(l.a)({},e),{},{flex:1})},control:function(e){return Object(l.a)(Object(l.a)({},e),g[a]&&{borderColor:"red"})}}),onChange:O})),s.a.createElement("small",{className:"text-danger text-right"},g.s_matrim))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:3},"Type de contribuable"),s.a.createElement(o.a,null,s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{name:"type_contr",type:"radio",id:"type_contr_0",className:"form-check-input",value:0,style:{cursor:"pointer"},checked:"0"===t.type_contr,onChange:O}),s.a.createElement("label",{title:"",htmlFor:"type_contr_0",className:"form-check-label",style:{cursor:"pointer"}},"Personne physique"))),s.a.createElement(o.a,null,s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{name:"type_contr",type:"radio",id:"type_contr_1",className:"form-check-input",value:1,style:{cursor:"pointer"},checked:"1"===t.type_contr,onChange:O}),s.a.createElement("label",{title:"",htmlFor:"type_contr_0",className:"form-check-label",style:{cursor:"pointer"}},"Personne morale"))))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement(v.a,{variant:"secondary",size:"sm",onClick:function(e){e.preventDefault(),p()}},s.a.createElement("i",{className:"feather icon-chevrons-left"}),"Retour")," ",s.a.createElement(v.a,{className:"no-margin-btn",type:"submit",variant:"primary",size:"sm",onClick:j},"Confirmer ",s.a.createElement("i",{className:"feather icon-chevrons-right"}))))))},j=t(60),k=t(28),z=t(102);a.default=function(){var e=Object(m.g)(),a={id:"",nom:u.faker.name.firstName(),prenom:u.faker.name.lastName(),email:u.faker.internet.email(),telephone:u.faker.phone.number("+261 34 ## ### ##"),photo:"",adresse:u.faker.address.country(),password:"",password_confirmation:"",file:u.faker.image.avatar(),nif:u.faker.phone.number("######"),raison_sociale:u.faker.company.bsNoun(),type_user_id:0,s_matrim:u.faker.datatype.number({min:0,max:3}),activite:u.faker.name.jobTitle(),type_contr:"0",localisation:JSON.stringify({x:1,y:1})},t=Object(c.useState)(1),p=Object(r.a)(t,2),d=p[0],E=p[1],b=Object(c.useState)(!1),f=Object(r.a)(b,2),N=f[0],v=f[1],y=function(){E(d+1)},C=function(){E(d-1)},x=Object(c.useState)({numero:u.faker.phone.number("201#########"),date_delivrance:u.faker.date.past(18).toJSON().slice(0,10),date_naissance:u.faker.date.birthdate({min:18,max:65,mode:"age"}).toJSON().slice(0,10),lieu_naissance:u.faker.address.country(),date_duplicata:u.faker.date.recent().toJSON().slice(0,10),lieu_duplicata:u.faker.address.country(),pere:u.faker.name.fullName({sex:"male"}),mere:u.faker.name.fullName({sex:"female"})}),S=Object(r.a)(x,2),I=S[0],w=S[1],L=Object(c.useState)(a),T=Object(r.a)(L,2),F=T[0],V=T[1],G=function(e){var a=e.target,t=a.name,r=a.value;V(Object(l.a)(Object(l.a)({},F),{},Object(n.a)({},t,r)))},P=function(e){V(Object(l.a)(Object(l.a)({},F),{},{file:e}))},A=function(e){var a=e.target,t=a.name,r=a.value;w(Object(l.a)(Object(l.a)({},I),{},Object(n.a)({},t,r)))},D=function(a){a.preventDefault(),v(!0);var t=Object(l.a)({},F);t.cin=JSON.stringify(I),z.a.add(t).then((function(a){console.log(a),localStorage.removeItem("contribuables");var t=a.data.user;return e.push({pathname:"/contribuables",state:{newValue:t}})})).catch((function(e){Object(j.c)(e),v(!1)}))};return s.a.createElement(k.a,null,s.a.createElement(i.a,null,s.a.createElement(o.a,null,function(){switch(d){case 1:return s.a.createElement(h,{user:F,handleFileChange:P,handleInputChange:G,nextStep:y});case 2:return s.a.createElement(g,{cin:I,handleInputChange:A,nextStep:y,prevStep:C});case 3:return s.a.createElement(O,{user:F,handleInputChange:G,nextStep:y,prevStep:C});case 4:return s.a.createElement(_,{user:F,handleInputChange:G,save:D,prevStep:C,loading:N});default:return s.a.createElement(h,{user:F,handleFileChange:P,handleInputChange:G,nextStep:y})}}())))}},56:function(e,a,t){"use strict";var n=t(61),l=t.n(n),r=t(54),c=JSON.parse(localStorage.getItem("user")),s=null!==c?c.token:"",m=l.a.create({baseURL:"".concat(r.a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});a.a=m},60:function(e,a,t){"use strict";t.d(a,"b",(function(){return c})),t.d(a,"c",(function(){return s})),t.d(a,"a",(function(){return r}));var n=t(67),l=t.n(n),r=(t(68),function(){return l.a.mixin({toast:!0,showConfirmButton:!1,customClass:{container:"ml-popup",popup:"hover-popup"},showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutDown"}})}),c=function(){return l.a.mixin({backdrop:!0,title:"Attention",text:"Voulez vous vraiment supprimer ?",icon:"warning",buttonsStyling:!1,customClass:{popup:"swal-sm",confirmButton:"btn btn-danger btn-sm",cancelButton:"btn btn-secondary btn-sm"},confirmButtonText:"Confirmer",cancelButtonText:"Annuler",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,showLoaderOnConfirm:!0})},s=function(e){e.response.data?r().fire({title:e.response.data.message,icon:"error"}):r().fire({title:"Erreur survenue au serveur",html:"Veuillez contacter l'administrateur",icon:"error"})}}}]);
//# sourceMappingURL=28.01a80249.chunk.js.map