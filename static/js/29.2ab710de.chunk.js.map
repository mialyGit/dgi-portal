{"version":3,"sources":["components/Administrateur/Application/add.js","utils/index.js","utils/app.js"],"names":["AddApp","fileRef","useRef","history","useHistory","useState","code_app","nom_app","abrev_app","desc_app","lien_app","type_app","file","app","setApp","loading","setLoading","errors","setErrors","undefined","error","setError","progress","setProgress","basename","preview","setPreview","color","text","uploadMessage","setUploadMessage","example","setExample","handleInputChange","e","target","name","value","handleCheckChange","parseInt","link","getAttribute","ex","handleEvent","setTimeout","loaded","fileSize","type","fileName","result","console","log","onSubmit","preventDefault","formErrors","newErrors","trim","startsWith","validateForm","Object","keys","length","data","AppApi","add","then","res","localStorage","removeItem","push","catch","err","response","message","Header","Title","as","Body","md","onClick","current","click","Img","style","height","variant","src","alt","className","id","accept","ref","onChange","event","image","files","fileExtension","split","pop","toLowerCase","indexOf","reader","FileReader","size","addEventListener","addListeners","readAsDataURL","hidden","animated","now","Group","Row","Label","column","sm","Prepend","Text","placeholder","Feedback","data-example","data-link","checked","title","htmlFor","Control","rows","disabled","animation","role","aria-hidden","to","user","JSON","parse","getItem","token","axios","Axios","create","baseURL","API_SERVER","headers","Authorization","getAll","get","base","delete","update","post"],"mappings":"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","file":"static/js/29.2ab710de.chunk.js","sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {Form, InputGroup, FormControl, Row, Col, Card, Button, Spinner, ProgressBar} from 'react-bootstrap';\r\nimport Aux from \"hoc/_Aux\";\r\nimport AppApi from 'utils/app';\r\nimport { basename } from 'config/constant';\r\n\r\nconst AddApp = () => {\r\n    const fileRef = useRef();\r\n    const history = useHistory();\r\n    const initialStateApp = {\r\n        code_app: '',\r\n        nom_app: '',\r\n        abrev_app: '',\r\n        desc_app: '',\r\n        lien_app: 'https://',\r\n        type_app: 0,\r\n        file: ''\r\n    }\r\n    const [app, setApp] = useState(initialStateApp)\r\n    const [loading, setLoading] = useState(false);\r\n    const [errors, setErrors] = useState({});\r\n    const [error, setError] = useState(undefined);\r\n    const [progress, setProgress] = useState(0)\r\n    const [preview, setPreview] = useState(basename + \"/no-import.png\");\r\n    const [uploadMessage, setUploadMessage] = useState({\r\n        color : \"text-muted\",\r\n        text : \"Veuillez importer une icône ici\"\r\n    });\r\n    const [example, setExample] = useState(\"https://www.impots.mg\")\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setApp({ ...app, [name]: value });\r\n        // console.log(app.type_app);\r\n        if(!!errors[name]){\r\n            setErrors({...errors, [name]:null})\r\n        }\r\n    };\r\n\r\n    const handleCheckChange = (e) => {\r\n        const value = parseInt(e.target.value)\r\n        const link = e.target.getAttribute('data-link')\r\n        const ex = e.target.getAttribute('data-example')\r\n        setExample(ex)\r\n        setApp({...app, type_app: value, lien_app:link})\r\n    }\r\n\r\n    function handleEvent(e) {\r\n        setTimeout(() => {\r\n            const value = parseInt( ((e.loaded / e.target.fileSize) * 100), 10 );\r\n            setProgress(value)\r\n            if (e.type === \"loadend\") {\r\n                setUploadMessage({color: \"text-muted\", text: e.target.fileName})\r\n                setPreview(e.target.result);\r\n                setApp({ ...app, file: e.target.result });\r\n                console.log(e.target.result);\r\n                setTimeout(() => {\r\n                    setProgress(0)\r\n                }, 100); \r\n            }\r\n        }, 500);\r\n    }\r\n\r\n    function addListeners(reader) {\r\n        reader.addEventListener('loadstart', handleEvent);\r\n        reader.addEventListener('load', handleEvent);\r\n        reader.addEventListener('loadend', handleEvent);\r\n        reader.addEventListener('progress', handleEvent);\r\n        reader.addEventListener('error', handleEvent);\r\n        reader.addEventListener('abort', handleEvent);\r\n    }\r\n\r\n    const handleInputFileChange = event => {\r\n        const image = event.target.files[0]\r\n        var ext = [\"jpg\",\"jpeg\",\"png\"]\r\n        if(image){\r\n            var fileExtension = image.name.split('.').pop().toLowerCase()\r\n            if(ext.indexOf(fileExtension)>-1){\r\n                const reader = new FileReader();\r\n                reader.fileName = image.name;\r\n                reader.fileSize = image.size;\r\n                addListeners(reader);\r\n                reader.readAsDataURL(image);\r\n            } else{\r\n                setUploadMessage({color: \"text-danger\", text: \"Fichier invalide!\"})\r\n            }\r\n        }\r\n    }\r\n\r\n    /*const url_exists = async(url) => {\r\n        const result = await fetch(url, { method: 'HEAD' });\r\n        return result.ok;\r\n    }*/\r\n\r\n    const validateForm = () => {\r\n        // const {code_app, nom_app, lien_app, type_app } = app;\r\n        const {code_app, nom_app, lien_app } = app;\r\n        const newErrors = {}\r\n        if(!code_app || code_app.trim() === '') newErrors.code_app = \"Veuillez entrer le code de l'application\"\r\n        if(!nom_app || nom_app.trim() === '') newErrors.nom_app = \"Veuillez entrer le nom de l'application\"\r\n        if(!lien_app || lien_app.trim() === '') newErrors.lien_app = \"Veuillez entrer le lien vers l'application\"\r\n        else if(!lien_app.trim().startsWith('http://') && !lien_app.trim().startsWith('https://')) newErrors.lien_app = \"Veuillez entrer une url valide\"\r\n        /*else if(type_app === 0 && !lien_app.trim().startsWith('http://') && !lien_app.trim().startsWith('https://')) newErrors.lien_app = \"Veuillez entrer une url valide\"\r\n        else if(type_app === 1 && !lien_app.trim().startsWith('/')) newErrors.lien_app = \"Le lien vers l'application privilegiée doit commencer par '/'\"*/\r\n        return newErrors\r\n    }\r\n\r\n    const save = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(undefined);\r\n\r\n        const formErrors = validateForm()\r\n        if(Object.keys(formErrors).length > 0){\r\n            setLoading(false);\r\n            return setErrors(formErrors)\r\n        }\r\n\r\n        let data = {...app}\r\n        //if(data.type_app === 1) data.lien_app = `${basename}/_apps${data.lien_app}`\r\n\r\n        console.log(data);\r\n        AppApi.add(data).then((res)=>{\r\n            console.log(res);\r\n            localStorage.removeItem('apps');\r\n            history.push('/apps');\r\n        }).catch((err)=>{\r\n            if (err.response.data) {\r\n                setError(err.response.data.message);\r\n            } else setError(\"Erreur survenue au serveur \\n Veuillez contacter l'administrateur.\");\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n\r\n  return (\r\n    <Aux>\r\n        <Row>\r\n            <Col>\r\n                {/* --------------------------------------------- AJOUTER -----------------------------------------------------------------------*/}\r\n                <Form onSubmit={save}>\r\n                    <Card>\r\n                        <Card.Header>\r\n                            <Card.Title as=\"h5\"> Ajouter une nouvelle application </Card.Title>\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n                            <Row>\r\n                                <Col md={2}>\r\n                                    <Card onClick={() => fileRef.current.click()}>\r\n                                        <Card.Img style={{ height : '100%' }} variant=\"top\" src={ preview } alt=\"activity-user\" />\r\n                                        <small className={`mt-3 text-center ${uploadMessage.color}`} >{uploadMessage.text}</small>\r\n                                        <FormControl type=\"file\" id=\"logo_app\" name=\"logo_app\" accept=\"image/*\" ref={fileRef} onChange={handleInputFileChange} hidden />\r\n                                    </Card>\r\n                                    <ProgressBar className={(progress === 0 ) && \"d-none\"} animated now={progress} />\r\n                                </Col>\r\n                                <Col></Col>\r\n                                <Col md={8} >\r\n                                    <Form.Group as={Row} className=\"mb-3\">\r\n                                        <Form.Label column sm={3}>Code Application </Form.Label>\r\n                                        <Col>\r\n                                            <InputGroup size=\"sm\" id=\"inputGroup-nom\">\r\n                                                <InputGroup.Prepend>\r\n                                                    <InputGroup.Text><i className=\"feather icon-user\"></i></InputGroup.Text>\r\n                                                </InputGroup.Prepend>\r\n                                                <FormControl className={errors.code_app && \"is-invalid\"} id=\"code_app\" name=\"code_app\" placeholder=\"Code Application\" value={app.code_app} onChange={handleInputChange}/>\r\n                                                <FormControl.Feedback type=\"invalid\" className=\"text-right\">{errors.code_app}</FormControl.Feedback>\r\n                                            </InputGroup>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Row} className=\"mb-3\">\r\n                                        <Form.Label column sm={3}>Nom de l'application </Form.Label>\r\n                                        <Col>\r\n                                            <InputGroup size=\"sm\">\r\n                                                <InputGroup.Prepend>\r\n                                                    <InputGroup.Text><i className=\"feather icon-user\"></i></InputGroup.Text>\r\n                                                </InputGroup.Prepend>\r\n                                                <FormControl className={errors.nom_app && \"is-invalid\"} id=\"nom_app\" name=\"nom_app\" placeholder=\"Nom de l'application\" value={app.nom_app} onChange={handleInputChange} />\r\n                                                <FormControl.Feedback type=\"invalid\" className=\"text-right\">{errors.nom_app}</FormControl.Feedback>\r\n                                            </InputGroup>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Row} className=\"mb-3\">\r\n                                        <Form.Label column sm={3}>Abréviation </Form.Label>\r\n                                        <Col>\r\n                                            <InputGroup size=\"sm\">\r\n                                                <InputGroup.Prepend>\r\n                                                    <InputGroup.Text><i className=\"feather icon-user\"></i></InputGroup.Text>\r\n                                                </InputGroup.Prepend>\r\n                                                <FormControl id=\"abrev_app\" name=\"abrev_app\" placeholder=\"Abréviation\" value={app.abrev_app} onChange={handleInputChange} />\r\n                                            </InputGroup>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Row} className=\"mb-3\">\r\n                                        <Form.Label column sm={3}> Type d'application </Form.Label>\r\n                                            <Col className=\"mt-2\">\r\n                                                <div className=\"form-check\">\r\n                                                    <input data-example=\"https://www.impots.mg\" data-link=\"https://\" name=\"type_app\" type=\"radio\" id=\"type_app_0\" className=\"form-check-input\" value=\"0\" \r\n                                                           style={{\"cursor\":\"pointer\"}} checked={(app.type_app === 0)} onChange={handleCheckChange}/>\r\n                                                    <label title=\"\" htmlFor=\"type_app_0\" className=\"form-check-label\" style={{\"cursor\":\"pointer\"}}>Application par défaut</label>\r\n                                                </div>\r\n                                            </Col>\r\n                                            <Col className=\"mt-2\">\r\n                                                <div className=\"form-check\">\r\n                                                    <input data-example=\"https://www.impots.mg\" data-link=\"https://\" name=\"type_app\" type=\"radio\" id=\"type_app_1\" className=\"form-check-input\" value=\"1\" \r\n                                                           style={{\"cursor\":\"pointer\"}} checked={(app.type_app === 1)} onChange={handleCheckChange}/>\r\n                                                    <label title=\"\" htmlFor=\"type_app_1\" className=\"form-check-label\" style={{\"cursor\":\"pointer\"}}>Application privilegiée</label>\r\n                                                </div>\r\n                                                {/* <div className=\"form-check\">\r\n                                                    <input data-example=\"/ift-ifpb\" data-link=\"/\" name=\"type_app\" type=\"radio\" id=\"type_app_1\" className=\"form-check-input\" value=\"1\" \r\n                                                           style={{\"cursor\":\"pointer\"}} checked={(app.type_app === 1)} onChange={handleCheckChange}/>\r\n                                                    <label title=\"\" htmlFor=\"type_app_1\" className=\"form-check-label\" style={{\"cursor\":\"pointer\"}}>Application privilegiée</label>\r\n                                                </div> */}\r\n                                                {/* <Form.Check style={{\"cursor\":\"pointer\"}} checked={(app.type_app === 1)} type=\"radio\" id=\"type_app_1\" name=\"type_app\" label=\"Application privilegiée\" value=\"1\" onChange={()=>setApp({...app, type_app : 1})} /> */}\r\n                                            </Col>\r\n                                    </Form.Group>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col md={6}>\r\n                                    <Form.Group className=\"mb-3\">\r\n                                        <Form.Label>Description </Form.Label>\r\n                                        <Form.Control as=\"textarea\" rows=\"5\" id=\"desc_app\" name=\"desc_app\" value={app.desc_app} onChange={handleInputChange} />\r\n                                    </Form.Group> \r\n                                </Col>\r\n                                <Col md={6}>\r\n                                    <Form.Group className=\"mb-3\">\r\n                                        <Form.Label>Lien <small className=\"text-muted\">(ex : {example}) </small> </Form.Label>\r\n                                        <Form.Control className={errors.lien_app && \"is-invalid\"} as=\"textarea\" rows=\"1\" id=\"lien_app\" name=\"lien_app\" value={app.lien_app} onChange={handleInputChange} />\r\n                                        <FormControl.Feedback type=\"invalid\" className=\"text-right\">{errors.lien_app}</FormControl.Feedback>\r\n                                    </Form.Group> \r\n                                    {error && (\r\n                                        <p className=\"text-danger form-text m-3\">{error}</p>\r\n                                    )}\r\n\r\n                                    {(loading && (\r\n                                        <Button variant=\"primary\" className=\"pull-right mt-2\" disabled>\r\n                                            <Spinner as=\"span\" className=\"mr-2\" size=\"sm\" animation=\"border\" role=\"status\" aria-hidden=\"true\" />\r\n                                            Veuillez patientez ...\r\n                                        </Button>\r\n                                    )) || (\r\n                                        <div className=\"pull-right mt-2\">\r\n                                            <Link to=\"/apps\">\r\n                                                <Button variant=\"secondary\" size=\"sm\">\r\n                                                    <i className=\"feather icon-x-circle\"></i>Annuler\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Button type=\"submit\" variant=\"primary\" size=\"sm\">\r\n                                                <i className=\"feather icon-save\"></i>Sauvegarder\r\n                                            </Button>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                </Col>\r\n                            </Row>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Form>\r\n            </Col>\r\n        </Row>\r\n    </Aux>\r\n  )\r\n}\r\n\r\nexport default AddApp;","import Axios from \"axios\";\r\nimport { API_SERVER } from \"../config/constant\";\r\n// import swal from \"sweetalert2\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\nconst token = user !== null ? user.token : \"\";\r\nconst axios = Axios.create({\r\n  baseURL: `${API_SERVER}`,\r\n  headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${token}` },\r\n});\r\n\r\n/*axios.interceptors.request.use(\r\n  (config) => {\r\n    // trigger 'loading=true' event here\r\n    // if (config.url !== `/sanctum/csrf-cookie`) {\r\n    swal.fire({\r\n      title: \"Veuillez patientez\",\r\n      imageUrl: `${API_SERVER}loading2.gif`,\r\n      imageWidth: 50,\r\n      imageHeight: 50,\r\n      imageAlt: \"Attendre\",\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n    });\r\n    // }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    // trigger 'loading=false' event here\r\n    swal.close();\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxios.interceptors.response.use(\r\n  (response) => {\r\n    // trigger 'loading=false' event here\r\n    swal.close();\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // trigger 'loading=false' event here\r\n    swal.close();\r\n    return Promise.reject(error);\r\n  }\r\n);*/\r\n\r\nexport default axios;\r\n","import axios from \"./index\";\r\n\r\nclass AppApi {\r\n  static getAll = () => {\r\n    return axios.get(`${base}`);\r\n  };\r\n\r\n  static delete = (id) => {\r\n    return axios.delete(`${base}/${id}`);\r\n  };\r\n\r\n  static update = (id, data) => {\r\n    return axios.post(`${base}/${id}?_method=PUT`, data);\r\n  };\r\n\r\n  static add = (data) => {\r\n    return axios.post(`${base}`, data);\r\n  };\r\n}\r\n\r\nlet base = \"api/applications\";\r\n\r\nexport default AppApi;\r\n"],"sourceRoot":""}