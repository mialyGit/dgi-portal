(this["webpackJsonpdgi-portal"]=this["webpackJsonpdgi-portal"]||[]).push([[17],{172:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(0),c=a.n(r),l=a(112),o=a(77),s=a(128),i=a(142),u=a(113),m=a(2),p=a(11),d=a(82),f=a(28),E=a(57),g=a(63),b=a(76);t.default=function(){var e=Object(m.g)(),t=Object(m.h)(),a=E.a+"storage/",h=Object(r.useState)([]),v=Object(n.a)(h,2),w=v[0],N=v[1],O=Object(r.useState)(!0),_=Object(n.a)(O,2),j=_[0],y=_[1],x=function(e){e.target.src=E.b+"/default-logo.png"};return Object(r.useEffect)((function(){!function(){t.state&&t.state.newValue&&(Object(g.a)().fire("Application ajout\xe9 avec succ\xe8s","","success"),console.log(t.state.newValue),e.replace());var a=JSON.parse(localStorage.getItem("apps"));if(a)return y(!1),N(a);b.a.getAll().then((function(e){var t=e.data;N(t),localStorage.setItem("apps",JSON.stringify(t))})).catch((function(e){localStorage.removeItem("apps"),Object(g.c)(e)})).finally((function(){y(!1)}))}()}),[]),c.a.createElement(f.a,null,c.a.createElement(l.a,null,c.a.createElement(o.a,null,c.a.createElement(s.a,null,c.a.createElement(s.a.Header,null,c.a.createElement(s.a.Title,{as:"h5"}," Applications par d\xe9faut "),c.a.createElement("div",{className:"card-header-right"},c.a.createElement(p.b,{to:"/apps/new"},c.a.createElement(i.a,{variant:"secondary",size:"sm"},c.a.createElement("i",{className:"feather icon-file-plus"}),"AJOUTER")))),c.a.createElement(s.a.Body,null,c.a.createElement(l.a,null,j?c.a.createElement(o.a,{className:"mt-4 text-center"},c.a.createElement(u.a,{animation:"border",role:"status"})):w.length>0?w.map((function(t){return c.a.createElement(o.a,{md:6,xl:4,key:t.id},c.a.createElement(s.a,{className:"card-social app-link"},c.a.createElement(s.a.Body,{className:"border-bottom"},c.a.createElement("a",{href:t.lien_app,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("div",{className:"row align-items-center justify-content-center"},c.a.createElement("div",{className:"col-auto"},c.a.createElement(d.LazyLoadImage,{onError:x,src:a+t.logo_app,alt:"",width:50})),c.a.createElement("div",{className:"col text-right"},c.a.createElement("h4",null,t.nom_app),c.a.createElement("h6",{className:"text-c-green mb-0"},c.a.createElement("span",{className:"text-muted"},"Code : ",t.code_app)))))),c.a.createElement(s.a.Body,null,c.a.createElement("div",{className:"row align-items-center justify-content-center card-active"},c.a.createElement("div",{className:"col-6"},c.a.createElement("span",{onClick:function(){return function(t){e.push({pathname:"/apps/edit",state:{item:t}}),console.log(t)}(t)},className:"label bg-dark text-white f-12",style:{cursor:"pointer"}},"Modifier")),c.a.createElement("div",{className:"col-6 text-right"},c.a.createElement("a",{href:t.lien_app,target:"_blank",rel:"noopener noreferrer",className:"label theme-bg text-white f-12 r-0"},"Aller au site"))))))})):c.a.createElement(o.a,{className:"mt-4 text-center"}," Aucune r\xe9sultat ")))))))}},58:function(e,t,a){"use strict";var n=a(62),r=a.n(n),c=a(57),l=JSON.parse(localStorage.getItem("user")),o=null!==l?l.token:"",s=r.a.create({baseURL:"".concat(c.a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}});t.a=s},63:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return c}));var n=a(72),r=a.n(n),c=(a(73),function(){return r.a.mixin({toast:!0,showConfirmButton:!1,customClass:{container:"ml-popup",popup:"hover-popup"},showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutDown"}})}),l=function(){return r.a.mixin({backdrop:!0,title:"Attention",text:"Voulez vous vraiment supprimer ?",icon:"warning",buttonsStyling:!1,customClass:{popup:"swal-sm",confirmButton:"btn btn-danger btn-sm",cancelButton:"btn btn-secondary btn-sm"},confirmButtonText:"Confirmer",cancelButtonText:"Annuler",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,showLoaderOnConfirm:!0})},o=function(e){e.response.data?c().fire({title:e.response.data.message,icon:"error"}):c().fire({title:"Erreur survenue au serveur",html:"Veuillez contacter l'administrateur",icon:"error"})}},76:function(e,t,a){"use strict";var n=a(15),r=a(14),c=a(58),l=Object(n.a)((function e(){Object(r.a)(this,e)}));l.getAll=function(){return c.a.get("".concat(o))},l.delete=function(e){return c.a.delete("".concat(o,"/").concat(e))},l.update=function(e,t){return c.a.post("".concat(o,"/").concat(e,"?_method=PUT"),t)},l.add=function(e){return c.a.post("".concat(o),e)};var o="api/applications";t.a=l}}]);
//# sourceMappingURL=17.badb9d69.chunk.js.map