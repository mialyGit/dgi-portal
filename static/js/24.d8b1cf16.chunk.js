(this["webpackJsonpdgi-portal"]=this["webpackJsonpdgi-portal"]||[]).push([[24],{487:function(e,a,t){"use strict";t.r(a);var n=t(30),l=t(3),r=t(29),c=t(0),s=t.n(c),m=t(2),i=t(97),o=t(76),u=t(130),p=t(54),d=t(104),E=t(105),b=t(77),f=t(136),v=t(99),h=t(149),N=function(e){var a=e.user,t=e.handleFileChange,m=e.handleInputChange,u=e.nextStep,N=Object(c.useRef)(),g=Object(c.useState)({}),y=Object(r.a)(g,2),_=y[0],O=y[1],j=Object(c.useState)(a.file),x=Object(r.a)(j,2),C=x[0],z=x[1],k=Object(c.useState)(0),S=Object(r.a)(k,2),I=S[0],w=S[1],L=Object(c.useState)({color:"text-muted",text:a.file?a.file:"Veuillez importer une ic\xf4ne ici"}),T=Object(r.a)(L,2),V=T[0],F=T[1],G=function(e){var a=e.target.name;m(e),_[a]&&O(Object(l.a)(Object(l.a)({},_),{},Object(n.a)({},a,null)))};function P(e){setTimeout((function(){var a=parseInt(e.loaded/e.target.fileSize*100,10);w(a),"loadend"===e.type&&(t(e.target.result),F({color:"text-muted",text:e.target.fileName}),z(e.target.result),setTimeout((function(){w(0)}),100))}),500)}return s.a.createElement(d.a,{onSubmit:function(e){e.preventDefault();var t=function(){var e=a.nom,t=a.adresse,n={};return e&&""!==e.trim()||(n.nom="Veuillez entrer le nom de l'utilisateur"),t&&""!==t.trim()||(n.adresse="Veuillez entrer l'adresse de l'utilisateur"),n}();Object.keys(t).length>0?O(t):u()}},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,{md:2},s.a.createElement(E.a,{onClick:function(){return N.current.click()}},s.a.createElement(E.a.Img,{onError:function(e){e.target.src=p.b+"/no-import.png"},style:{height:"100%"},variant:"top",src:C,alt:"activity-user"}),s.a.createElement("small",{className:"mt-3 text-center ".concat(V.color)},V.text),s.a.createElement(b.a,{type:"file",id:"photo",name:"photo",accept:"image/*",ref:N,onChange:function(e){var a=e.target.files[0];if(a){var t=a.name.split(".").pop().toLowerCase();if(["jpg","jpeg","png"].indexOf(t)>-1){var n=new FileReader;n.fileName=a.name,n.fileSize=a.size,function(e){e.addEventListener("loadstart",P),e.addEventListener("load",P),e.addEventListener("loadend",P),e.addEventListener("progress",P),e.addEventListener("error",P),e.addEventListener("abort",P)}(n),n.readAsDataURL(a)}else F({color:"text-danger",text:"Fichier invalide!"})}},hidden:!0})),s.a.createElement(f.a,{className:0===I&&"d-none",animated:!0,now:I})),s.a.createElement(o.a,null),s.a.createElement(o.a,{md:8},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"Nom"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm",id:"nom"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{className:_.nom&&"is-invalid",id:"nom",name:"nom",placeholder:"Veuillez entrer votre nom",value:a.nom,onChange:G}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},_.nom)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"Pr\xe9nom"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{id:"prenom",name:"prenom",placeholder:"Veuillez entrer votre pr\xe9nom",value:a.prenom,onChange:G})))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"T\xe9l\xe9phone"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-phone"}))),s.a.createElement(b.a,{id:"telephone",name:"telephone",placeholder:"Veuillez entrer votre num\xe9ro de t\xe9l\xe9phone",value:a.telephone,onChange:G})))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"Adresse"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-map-pin"}))),s.a.createElement(b.a,{className:_.adresse&&"is-invalid",id:"adresse",name:"adresse",placeholder:"Veuillez entrer votre adresse",value:a.adresse,onChange:G}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},_.adresse))))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement("a",{href:"/personnels",className:"btn btn-secondary btn-sm"},s.a.createElement("i",{className:"feather icon-x-circle"}),"Annuler")," ",s.a.createElement(h.a,{className:"no-margin-btn",type:"submit",variant:"primary",size:"sm"},"Confirmer ",s.a.createElement("i",{className:"feather icon-chevrons-right"}))))))},g=function(e){var a=e.cin,t=e.handleInputChange,m=e.nextStep,u=e.prevStep,p=Object(c.useState)({}),f=Object(r.a)(p,2),N=f[0],g=f[1],y=Object(c.useState)(!1),_=Object(r.a)(y,2),O=_[0],j=_[1],x=function(e){var a=e.target.name;t(e),N[a]&&g(Object(l.a)(Object(l.a)({},N),{},Object(n.a)({},a,null)))},C=function(e){e.preventDefault();var t=function(){var e=a.numero,t=a.date_delivrance,n=a.date_naissance,l=a.lieu_naissance,r={};return e&&""!==e.trim()||(r.numero="Veuillez entrer le num\xe9ro cin"),12!==e.length&&(r.numero="Le num\xe9ro CIN doit comporter 12 caract\xe8res"),t&&""!==t.trim()||(r.date_delivrance="Veuillez entrer la date de delivrance du cin"),n&&""!==n.trim()||(r.date_naissance="Veuillez entrer la date de naissance"),l&&""!==l.trim()||(r.lieu_naissance="Veuillez entrer le lieu de naissance"),r}();Object.keys(t).length>0?g(t):m()};return s.a.createElement(d.a,{onSubmit:C},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Num\xe9ro CIN"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-hash"}))),s.a.createElement(b.a,{className:N.numero&&"is-invalid",id:"numero",name:"numero",placeholder:"Num\xe9ro CIN",value:a.numero,onChange:x}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},N.numero)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Date de d\xe9livrance"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-calendar"}))),s.a.createElement(b.a,{type:"date",className:N.date_delivrance&&"is-invalid",id:"date_delivrance",name:"date_delivrance",value:a.date_delivrance,onChange:x}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},N.date_delivrance))))),s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Date de naissance"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-calendar"}))),s.a.createElement(b.a,{type:"date",className:N.date_naissance&&"is-invalid",id:"date_naissance",name:"date_naissance",value:a.date_naissance,onChange:x}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},N.date_naissance)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Lieu de naissance"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-map-pin"}))),s.a.createElement(b.a,{className:N.lieu_naissance&&"is-invalid",id:"lieu_naissance",name:"lieu_naissance",placeholder:"Lieu de naissance",value:a.lieu_naissance,onChange:x}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},N.lieu_naissance)))))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"P\xe8re"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{id:"pere",name:"pere",placeholder:"Nom du p\xe8re",value:a.pere,onChange:x})))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:2},"M\xe8re"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-user"}))),s.a.createElement(b.a,{id:"mere",name:"mere",placeholder:"Nom de la m\xe8re",value:a.mere,onChange:x})))),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{className:"mt-2"},s.a.createElement(d.a.Check,{style:{cursor:"pointer"},type:"checkbox",label:"CIN Duplicata",onClick:function(){return j(!O)}})),O&&s.a.createElement(i.a,null,s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Date de duplicata"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-calendar"}))),s.a.createElement(b.a,{type:"date",className:N.date_duplicata&&"is-invalid",id:"date_duplicata",name:"date_duplicata",value:a.date_duplicata,onChange:x}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},N.date_duplicata))))),s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:4},"Lieu de duplicata"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-map-pin"}))),s.a.createElement(b.a,{className:N.lieu_duplicata&&"is-invalid",id:"lieu_duplicata",name:"lieu_duplicata",placeholder:"Lieu de duplicata",value:a.lieu_duplicata,onChange:x}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},N.lieu_duplicata))))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement(h.a,{variant:"secondary",size:"sm",onClick:function(e){e.preventDefault(),u()}},s.a.createElement("i",{className:"feather icon-chevrons-left"}),"Retour")," ",s.a.createElement(h.a,{className:"no-margin-btn",type:"submit",variant:"primary",size:"sm",onClick:C},"Confirmer ",s.a.createElement("i",{className:"feather icon-chevrons-right"}))))))},y=t(98),_=function(e){var a=e.user,t=e.handleInputChange,m=e.prevStep,u=e.save,p=e.loading,f=Object(c.useState)({}),N=Object(r.a)(f,2),g=N[0],_=N[1],O=Object(c.useState)(0),j=Object(r.a)(O,2),x=j[0],C=j[1],z=function(e){var a=e.target.name;t(e),g[a]&&_(Object(l.a)(Object(l.a)({},g),{},Object(n.a)({},a,null)))},k=function(e){e.preventDefault();var t=function(){var e=a.email,t=a.password,n=a.password_confirmation,l={};return e&&""!==e.trim()||(l.email="Veuillez entrer l'email"),function(e){return/\S+@\S+\.\S+/.test(e)}(e)||(l.email="Veuillez entrer un email valide"),t&&""!==t.trim()||(l.password="Veuillez entrer le mot de passe"),n&&""!==n.trim()||(l.password_confirmation="Veuillez confirmer le mot de passe"),t.trim()!==n.trim()&&(l.password_confirmation="Confirmation de mot de passe incorrect"),l}();Object.keys(t).length>0?_(t):u(e)};return s.a.createElement(d.a,{onSubmit:k},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,null,s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:3},"Email"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-at-sign"}))),s.a.createElement(b.a,{className:g.email&&"is-invalid",id:"email",name:"email",placeholder:"Email de confirmation",value:a.email,onChange:z}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.email))))),s.a.createElement(o.a,null)),s.a.createElement(i.a,null,s.a.createElement(o.a,null,s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:3},"Mot de passe"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-lock"}))),s.a.createElement(b.a,{type:1!==x?"password":"text",className:g.password&&"is-invalid",id:"password",name:"password",placeholder:"Mot de passe",value:a.password,onChange:z}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.password),!g.password&&s.a.createElement(v.a.Append,null,s.a.createElement(v.a.Text,{style:{cursor:"pointer"},onClick:function(){return C(1===x?0:1)}},s.a.createElement("i",{className:1===x?"feather icon-eye-off":"feather icon-eye"}))))))),s.a.createElement(o.a,null,s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{column:!0,sm:3,style:{display:"flex",justifyContent:"right"}},"Confirmation"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-lock"}))),s.a.createElement(b.a,{type:2!==x?"password":"text",className:g.password_confirmation&&"is-invalid",id:"password_confirmation",name:"password_confirmation",placeholder:"Confirmer votre mot de passe",value:a.password_confirmation,onChange:z}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},g.password_confirmation),!g.password_confirmation&&s.a.createElement(v.a.Append,null,s.a.createElement(v.a.Text,{style:{cursor:"pointer"},onClick:function(){return C(2===x?0:2)}},s.a.createElement("i",{className:2===x?"feather icon-eye-off":"feather icon-eye"}))))))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement(h.a,{variant:"secondary",size:"sm",onClick:function(e){e.preventDefault(),m()}},s.a.createElement("i",{className:"feather icon-chevrons-left"}),"Retour")," ",p&&s.a.createElement(h.a,{variant:"primary",size:"sm",disabled:!0},s.a.createElement(y.a,{as:"span",className:"mr-2",size:"sm",animation:"border",role:"status","aria-hidden":"true"}),"Veuillez patientez ...")||s.a.createElement(h.a,{variant:"primary",size:"sm",onClick:k},s.a.createElement("i",{className:"feather icon-check-square"}),"Sauvegarder")))))},O=t(489),j=t(90),x=function(e){var a=e.user,t=e.handleInputChange,m=e.nextStep,u=e.prevStep,f=p.a+"api/",N=Object(c.useState)({}),g=Object(r.a)(N,2),y=g[0],_=g[1],x=Object(c.useState)(0),C=Object(r.a)(x,2),z=C[0],k=C[1],S=Object(O.b)({ignoreAccents:!0}),I=function(e){return{container:function(e){return Object(l.a)(Object(l.a)({},e),{},{flex:1})},control:function(a){return Object(l.a)(Object(l.a)({},a),y[e]&&{borderColor:"red"})}}},w=function(e){var a=e.target.name;t(e),y[a]&&_(Object(l.a)(Object(l.a)({},y),{},Object(n.a)({},a,null)))},L=function(e){e.preventDefault();var t=function(){var e=a.num_matricule,t=a.fonction_id,n=a.grade_id,l=a.type_user_id,r=z,c={};return e&&""!==e.trim()||(c.num_matricule="Veuillez entrer le num\xe9ro matricule"),r&&0!==r||(c.service_id="Veuillez entrer le service du personnel"),t&&0!==t||(c.fonction_id="Veuillez entrer la fonction du personnel"),n&&0!==n||(c.grade_id="Veuillez entrer le grade du personnel"),-1===l&&(c.type_user_id="Veuillez entrer le type de l'utilisateur"),c}();console.log(t),Object.keys(t).length>0?_(t):m()};return s.a.createElement(d.a,{onSubmit:L},s.a.createElement(E.a,null,s.a.createElement(E.a.Header,null,s.a.createElement(E.a.Title,{as:"h5"},"Ajouter un utilisateur")),s.a.createElement(E.a.Body,null,s.a.createElement("div",{className:"bs-stepper"},s.a.createElement("div",{className:"bs-stepper-header",role:"tablist"},s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-1"},s.a.createElement("span",{className:"bs-stepper-circle"},"1"),s.a.createElement("span",{className:"bs-stepper-label"},"Information personnelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-2"},s.a.createElement("span",{className:"bs-stepper-circle"},"2"),s.a.createElement("span",{className:"bs-stepper-label"},"Information sur le CIN"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step active"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-3"},s.a.createElement("span",{className:"bs-stepper-circle"},"3"),s.a.createElement("span",{className:"bs-stepper-label"},"Information professionelle"))),s.a.createElement("div",{className:"line"}),s.a.createElement("div",{className:"step"},s.a.createElement("button",{type:"button",className:"step-trigger",role:"tab",id:"step-4"},s.a.createElement("span",{className:"bs-stepper-circle"},"4"),s.a.createElement("span",{className:"bs-stepper-label"},"Information du compte"))))),s.a.createElement("hr",null),s.a.createElement(i.a,{className:"pt-4"},s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:4},"Num\xe9ro Matricule"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(v.a.Prepend,null,s.a.createElement(v.a.Text,null,s.a.createElement("i",{className:"feather icon-hash"}))),s.a.createElement(b.a,{className:y.num_matricule&&"is-invalid",id:"num_matricule",name:"num_matricule",placeholder:"Num\xe9ro Matricule",value:a.num_matricule,onChange:w}),s.a.createElement(b.a.Feedback,{type:"invalid",className:"text-right"},y.num_matricule)))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:4},"Direction ou Service"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(j.a,{cacheOptions:!0,filterOption:S,loadOptions:function(e,a){fetch("".concat(f,"services")).then((function(e){return e.json()})).then((function(e){var t=[];e.forEach((function(e){t.push({label:"".concat(e.nom_sc),value:parseInt(e.id)})})),a(t)}))},defaultOptions:!0,placeholder:"Selectionner la direction ou service",styles:I("service_id"),onChange:function(e){k(e.value),y.service_id&&_(Object(l.a)(Object(l.a)({},y),{},{service_id:null}))}})),s.a.createElement("small",{className:"text-danger text-right"},y.service_id))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:4},"Type de l'utilisateur"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(j.a,{cacheOptions:!0,filterOption:S,loadOptions:function(e,a){a([{id:0,libelle_type:"Utilisateur"},{id:1,libelle_type:"Administrateur"}].map((function(e){return{label:e.libelle_type,value:e.id,target:{name:"type_user_id",value:e.id}}})))},defaultOptions:!0,placeholder:"Selectionner le type",name:"type_user_id",styles:I("type_user_id"),onChange:w})),s.a.createElement("small",{className:"text-danger text-right"},y.type_user_id)))),s.a.createElement(o.a,{md:6},s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:3},"Grade"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(j.a,{cacheOptions:!0,filterOption:S,loadOptions:function(e,a){fetch("".concat(f,"grades")).then((function(e){return e.json()})).then((function(e){var t=[];e.forEach((function(e){t.push({label:"".concat(e.nom_gr),value:e.id,target:{name:"grade_id",value:e.id}})})),a(t)}))},defaultOptions:!0,placeholder:"Selectionner le grade",name:"grade_id",styles:I("grade_id"),onChange:w})),s.a.createElement("small",{className:"text-danger text-right"},y.grade_id))),s.a.createElement(d.a.Group,{as:i.a,className:"mb-3"},s.a.createElement(d.a.Label,{className:"text-right",column:!0,sm:3},"Fonction"),s.a.createElement(o.a,null,s.a.createElement(v.a,{size:"sm"},s.a.createElement(j.a,{cacheOptions:!0,filterOption:S,loadOptions:function(e,a){fetch("".concat(f,"fonctions")).then((function(e){return e.json()})).then((function(e){var t=[],n=e.filter((function(e){return e.service_id===z}));console.log(n),n.forEach((function(e){t.push({label:"".concat(e.nom_fn),value:e.id,target:{name:"fonction_id",value:e.id}})})),a(t)}))},placeholder:"Selectionner la fonction",name:"fonction_id",styles:I("fonction_id"),onChange:w})),s.a.createElement("small",{className:"text-danger text-right"},y.fonction_id)))))),s.a.createElement(E.a.Footer,null,s.a.createElement("div",{style:{display:"flex",justifyContent:"right"}},s.a.createElement(h.a,{variant:"secondary",size:"sm",onClick:function(e){e.preventDefault(),u()}},s.a.createElement("i",{className:"feather icon-chevrons-left"}),"Retour")," ",s.a.createElement(h.a,{className:"no-margin-btn",type:"submit",variant:"primary",size:"sm",onClick:L},"Confirmer ",s.a.createElement("i",{className:"feather icon-chevrons-right"}))))))},C=t(60),z=t(28),k=t(80);a.default=function(){var e=Object(m.g)(),a={id:"",nom:u.faker.name.firstName(),prenom:u.faker.name.lastName(),email:u.faker.internet.email(),telephone:u.faker.phone.number("+261 34 ## ### ##"),photo:"",adresse:u.faker.address.country(),password:"",password_confirmation:"",file:u.faker.image.avatar(),num_matricule:u.faker.phone.number("######"),fonction_id:0,grade_id:0,type_user_id:-1},t=Object(c.useState)(1),p=Object(r.a)(t,2),d=p[0],E=p[1],b=Object(c.useState)(!1),f=Object(r.a)(b,2),v=f[0],h=f[1],y=function(){E(d+1)},O=function(){E(d-1)},j=Object(c.useState)({numero:u.faker.phone.number("201#########"),date_delivrance:u.faker.date.past(18).toJSON().slice(0,10),date_naissance:u.faker.date.birthdate({min:18,max:65,mode:"age"}).toJSON().slice(0,10),lieu_naissance:u.faker.address.country(),date_duplicata:u.faker.date.recent().toJSON().slice(0,10),lieu_duplicata:u.faker.address.country(),pere:u.faker.name.fullName({sex:"male"}),mere:u.faker.name.fullName({sex:"female"})}),S=Object(r.a)(j,2),I=S[0],w=S[1],L=Object(c.useState)(a),T=Object(r.a)(L,2),V=T[0],F=T[1],G=function(e){var a=e.target,t=a.name,r=a.value;F(Object(l.a)(Object(l.a)({},V),{},Object(n.a)({},t,r)))},P=function(e){F(Object(l.a)(Object(l.a)({},V),{},{file:e}))},D=function(e){var a=e.target,t=a.name,r=a.value;w(Object(l.a)(Object(l.a)({},I),{},Object(n.a)({},t,r)))},A=function(a){a.preventDefault(),h(!0);var t=Object(l.a)({},V);t.cin=JSON.stringify(I),k.a.add(t).then((function(a){console.log(a),localStorage.removeItem("personnels");var t=a.data.user;return e.push({pathname:"/personnels",state:{newValue:t}})})).catch((function(e){Object(C.c)(e),h(!1)}))};return s.a.createElement(z.a,null,s.a.createElement(i.a,null,s.a.createElement(o.a,null,function(){switch(d){case 1:return s.a.createElement(N,{user:V,handleFileChange:P,handleInputChange:G,nextStep:y});case 2:return s.a.createElement(g,{cin:I,handleInputChange:D,nextStep:y,prevStep:O});case 3:return s.a.createElement(x,{user:V,handleInputChange:G,nextStep:y,prevStep:O});case 4:return s.a.createElement(_,{user:V,handleInputChange:G,save:A,prevStep:O,loading:v});default:return s.a.createElement(N,{user:V,handleFileChange:P,handleInputChange:G,nextStep:y})}}())))}},56:function(e,a,t){"use strict";var n=t(61),l=t.n(n),r=t(54),c=JSON.parse(localStorage.getItem("user")),s=null!==c?c.token:"",m=l.a.create({baseURL:"".concat(r.a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});a.a=m},60:function(e,a,t){"use strict";t.d(a,"b",(function(){return c})),t.d(a,"c",(function(){return s})),t.d(a,"a",(function(){return r}));var n=t(67),l=t.n(n),r=(t(68),function(){return l.a.mixin({toast:!0,showConfirmButton:!1,customClass:{container:"ml-popup",popup:"hover-popup"},showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutDown"}})}),c=function(){return l.a.mixin({backdrop:!0,title:"Attention",text:"Voulez vous vraiment supprimer ?",icon:"warning",buttonsStyling:!1,customClass:{popup:"swal-sm",confirmButton:"btn btn-danger btn-sm",cancelButton:"btn btn-secondary btn-sm"},confirmButtonText:"Confirmer",cancelButtonText:"Annuler",showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,showLoaderOnConfirm:!0})},s=function(e){e.response.data?r().fire({title:e.response.data.message,icon:"error"}):r().fire({title:"Erreur survenue au serveur",html:"Veuillez contacter l'administrateur",icon:"error"})}},80:function(e,a,t){"use strict";var n=t(15),l=t(14),r=t(56),c=Object(n.a)((function e(){Object(l.a)(this,e)}));c.getAll=function(){return r.a.get("".concat(s))},c.getAllDemandes=function(){return r.a.get("api/users/demandes")},c.validateStatus=function(e,a){return e?r.a.get("api/users/validate/".concat(a)):r.a.get("api/users/unvalidate/".concat(a))},c.unValidateStatus=function(e){return r.a.get("api/users/unvalidate/".concat(e))},c.add=function(e){return r.a.post("".concat(s),e)},c.delete=function(e){return r.a.delete("".concat(s,"/").concat(e))},c.update=function(e,a){return r.a.put("".concat(s,"/").concat(a),e)};var s="api/personnels";a.a=c}}]);
//# sourceMappingURL=24.d8b1cf16.chunk.js.map