(this["webpackJsonpdgi-portal"]=this["webpackJsonpdgi-portal"]||[]).push([[18],{497:function(e,t,a){"use strict";a.r(t);var n=a(29),c=a(0),r=a.n(c),s=a(11),l=(a(85),a(28)),o=a(81),i=a(75);t.default=function(){var e=a(95),t=Object(c.useState)(!0),m=Object(n.a)(t,2),u=m[0],d=m[1],p=Object(c.useState)(""),b=Object(n.a)(p,2),E=b[0],h=b[1],v=Object(c.useState)(void 0),f=Object(n.a)(v,2),N=f[0],g=f[1],y=Object(c.useState)(void 0),k=Object(n.a)(y,2),j=k[0],O=k[1],_=Object(c.useState)(!1),x=Object(n.a)(_,2),S=x[0],w=x[1];return r.a.createElement(l.a,null,r.a.createElement(o.a,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"auth-wrapper"},r.a.createElement("div",{className:"auth-content"},r.a.createElement("div",{className:"auth-bg"},r.a.createElement("span",{className:"r"}),r.a.createElement("span",{className:"r s"}),r.a.createElement("span",{className:"r s"}),r.a.createElement("span",{className:"r"})),r.a.createElement("form",{onSubmit:function(e){if(g(void 0),O(void 0),e&&e.preventDefault(),""===E)return g("Veuillez entrer le NIF ou le N\xb0 Matricule");w(!0),i.a.Activate(u,{nif:E}).then((function(e){console.log(e),O("Demande envoy\xe9 avec succ\xe8s")})).catch((function(e){e.response.data?g(e.response.data.message):g("Erreur survenue au serveur \n Veuillez contacter l'administrateur.")})).finally((function(){w(!1)}))}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("i",{className:"feather icon-unlock auth-icon"})),r.a.createElement("h3",{className:"mb-4"},"Demande une activation du compte"),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"form-check col"},r.a.createElement("input",{name:"is_contribuable",type:"radio",id:"is_contribuable_0",className:"form-check-input",value:!0,style:{cursor:"pointer"},checked:u,onChange:function(){return d(!0)}}),r.a.createElement("label",{title:"",htmlFor:"is_contribuable_0",className:"form-check-label",style:{cursor:"pointer"}},"Contribuable")),r.a.createElement("div",{className:"form-check col"},r.a.createElement("input",{name:"is_contribuable",type:"radio",id:"is_contribuable_1",className:"form-check-input",value:!1,style:{cursor:"pointer"},checked:!u,onChange:function(){return d(!1)}}),r.a.createElement("label",{title:"",htmlFor:"is_contribuable_1",className:"form-check-label",style:{cursor:"pointer"}},"Agent interne"))),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",name:"nif",placeholder:"NIF ou N\xb0 MATRICULE",onChange:function(e){h(e.target.value),g(void 0)}})),N&&r.a.createElement("p",{className:"text-danger form-text mb-3"},N),j&&r.a.createElement("p",{className:"text-success form-text mb-3"},j),S?r.a.createElement("button",{className:"btn btn-primary mb-4",disabled:!0},r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," "," Connexion ..."):r.a.createElement("button",{type:"submit",className:"btn btn-primary shadow-2 mb-4"},"Envoyer"),r.a.createElement("p",{className:"mb-2 text-muted"},"Connecter la portail ",r.a.createElement(s.c,{to:"/"},"Se connecter")))))))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"featured"},r.a.createElement("h3",{className:"color-white"},"Portail"),r.a.createElement("h5",null,"Acc\xe8s des contribuables et des agents internes de la DGI.")),r.a.createElement("img",{src:e,alt:"Logo DGI",style:{width:"100%",height:"100%"}}))))}},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));var n="https://api-dgi-portal.herokuapp.com/",c="/dgi-portal"},56:function(e,t,a){"use strict";var n=a(61),c=a.n(n),r=a(54),s=JSON.parse(localStorage.getItem("user")),l=null!==s?s.token:"",o=c.a.create({baseURL:"".concat(r.a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}});t.a=o},75:function(e,t,a){"use strict";var n=a(15),c=a(14),r=a(56),s=Object(n.a)((function e(){Object(c.a)(this,e)}));s.Login=function(e){return r.a.post("".concat(l,"/login"),e)},s.Activate=function(e,t){return e?r.a.post("".concat(l,"/activate/cont"),t):r.a.post("".concat(l,"/activate/pers"),t)},s.Register=function(e){return r.a.post("".concat(l,"/register"),e)},s.Logout=function(e){return r.a.post("".concat(l,"/logout"),e,{headers:{Authorization:"Bearer ".concat(e.token)}})};var l="api/users";t.a=s},95:function(e,t,a){e.exports=a.p+"static/media/background.95a52b00.jpg"}}]);
//# sourceMappingURL=18.4e451fc8.chunk.js.map